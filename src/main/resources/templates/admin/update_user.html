<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Editt User</title>
  <meta charset="UTF-8"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h1 class="text-center pt-5">Update User</h1>
    <div class="d-flex justify-content-center align-items-center">
      <form class="mt-3" th:action="@{/admin/update_user/{id}(id=${user.id})}" th:object="${user}" method="post" th:csrf>
        <div class="form-group mb-3">
          <label>Firstname</label>
          <input class="form-control" style="width: 570px;" type="text" th:field="*{firstName}" th:placeholder="${user.firstName}" required/>
        </div>
        <div class="form-group mb-3">
          <label>Lastname</label>
          <input class="form-control" type="text" th:field="*{lastName}" th:placeholder="${user.lastName}" required/>
        </div>
        <div class="form-group mb-3">
          <label for="InputEmail1">Email address</label>
          <input type="email" class="form-control" id="InputEmail1" aria-describedby="email" th:placeholder="${user.mail}" th:field="*{mail}" required>
        </div>
        <div class="form-group mb-3">
          <label for="InputPassword">Password</label>
          <div class="input-group">
            <input type="password" class="form-control" id="InputPassword" required>
            <div class="input-group-append">
              <span class="input-group-text material-icons" onclick="togglePasswordVisibility()" style="cursor:pointer;">visibility</span>
            </div>
          </div>
          <small id="passwordHelp" class="form-text text-muted">Password must contain at least one uppercase letter, one lowercase letter, and one digit.</small>
        </div>
        <div class="form-group mb-3">
          <label for="ConfirmPassword">Confirm Password</label>
          <div class="input-group">
            <input type="password" class="form-control" id="ConfirmPassword" placeholder="Confirm your pwd" th:field="*{password}" required>
            <span class="input-group-text material-icons" onclick="togglePasswordConfirmedVisibility()" style="cursor:pointer;">visibility</span>
          </div>
        </div>
        <div class="form-group mb-3">
          <label for="Active">Active</label>
          <input type="checkbox" id="Active" class="form-check-input" th:field="*{active}" />
          <label for="Admin">Admin</label>
          <input type="checkbox" id="Admin" class="form-check-input" th:field="*{admin}" />
        </div>
        <div id="passwordError" class="alert alert-danger" style="display:none;" role="alert">
        </div>
        <div th:if="${error}" class="alert alert-danger" role="alert">
          <span th:text="${error}"></span>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-primary mt-3">Save changes</button>
          <div class="d-flex justify-content-between">
            <a class="btn btn-secondary mt-3" href="/admin/user_list">Back to User List</a>
          </div>
        </div>

      </form>
    </div>
  </div>
  <script type="text/javascript" src="/static/js/pwd.js" th:src="@{/static/js/pwd.js}"></script>
</body>
</html>
